{% extends "base.html" %}
{% set title = "Representative Debate" %}

{% block content %}
<div class="debate-page">

    <!-- =========================
         Page Header
    ========================== -->
    <div class="page-header">
        <h2>âš–ï¸ Representative Debate</h2>
        <p class="page-subtext">
            Discussion and counterpoints on this representative post.
        </p>
    </div>

    <!-- =========================
         Debate Thread
    ========================== -->
    <section class="debate-thread">

        {% if comments %}
            {% for comment in comments %}
                <div class="debate-comment">

                    <div class="debate-comment-header">
                        <span class="rep-badge">
                            ğŸ§‘â€âš–ï¸ Representative
                        </span>
                        <span class="comment-date">
                            {{ comment.created_at }}
                        </span>
                    </div>

                    <div class="debate-comment-body">
                        {{ comment.comment }}
                    </div>

                </div>
            {% endfor %}
        {% else %}
            <p>No debate yet. Be the first to respond.</p>
        {% endif %}

    </section>

    <!-- =========================
         Add Comment
    ========================== -->
    <section class="debate-form">
        <h4>Add Your Response</h4>

        <form method="POST" action="{{ url_for('representative.comment_post', post_id=post_id) }}">
            <textarea
                name="comment"
                rows="4"
                placeholder="Write your response or counterpoint..."
                required
            ></textarea>

            <button type="submit" class="btn-primary">
                Post Response
            </button>
        </form>
    </section>

</div>
{% endblock %}
